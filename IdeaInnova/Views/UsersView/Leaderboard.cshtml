
@{
    ViewData["Title"] = "Leaderboard";
    var leaderboard = ViewBag.Leaderboard;
}

<div class="p-6">
    <h2 class="text-3xl font-bold mb-2 text-gray-800">🏆 Leaderboard</h2>
    <p class="text-gray-500 mb-6">Top contributors and innovators</p>

    <!-- Top 3 Podium -->
    <div class="flex justify-center gap-8 mb-10">
        <!-- 2nd Place -->
        <div class="text-center">
            <div class="bg-purple-100 p-4 rounded-full w-24 h-24 mx-auto shadow">
                <img src="/images/komal.jpg" class="rounded-full w-full" alt="2nd place" />
            </div>
            <p class="font-semibold mt-2 text-gray-700">Komalpreet Kaur</p>
            <p class="text-purple-500 text-sm">2,456 pts</p>
            <span class="text-2xl">🥈</span>
        </div>

        <!-- 1st Place -->
        <div class="text-center scale-110">
            <div class="bg-yellow-100 p-4 rounded-full w-28 h-28 mx-auto shadow-lg">
                <img src="/images/jiya.jpg" class="rounded-full w-full" alt="2nd place" />
            </div>
            <p class="font-bold mt-2 text-gray-800">Jiya Pandit</p>
            <p class="text-yellow-500 text-sm font-semibold">3,789 pts</p>
            <span class="text-3xl">👑</span>
        </div>

        <!-- 3rd Place -->
        <div class="text-center">
            <div class="bg-pink-100 p-4 rounded-full w-24 h-24 mx-auto shadow">
                <img src="/images/rudra.jpg" class="rounded-full w-full" alt="2nd place" />
            </div>
            <p class="font-semibold mt-2 text-gray-700">Rudra Patel</p>
            <p class="text-pink-500 text-sm">2,123 pts</p>
            <span class="text-2xl">🥈</span>
        </div>

        <!-- 4th Place -->
        <div class="text-center">
            <div class="bg-pink-100 p-4 rounded-full w-24 h-24 mx-auto shadow">
                <img src="/images/drasti.jpg" class="rounded-full w-full" alt="2nd place" />
            </div>
            <p class="font-semibold mt-2 text-gray-700">Drasti Patel</p>
            <p class="text-pink-500 text-sm">2,123 pts</p>
            <span class="text-2xl">🎖️</span>
        </div>
    </div>


    <!-- Leaderboard Table -->
    <div class="bg-white rounded-lg shadow overflow-hidden">
        <table class="w-full text-sm text-left">
            <thead class="bg-gradient-to-r from-purple-500 to-pink-500 text-white">
                <tr>
                    <th class="px-4 py-2">Rank</th>
                    <th class="px-4 py-2">Username</th>
                    <th class="px-4 py-2">Department</th>
                    <th class="px-4 py-2">Ideas</th>
                    <th class="px-4 py-2">Points</th>
                </tr>
            </thead>
            <tbody>
                @if (leaderboard != null)
                {
                    var rank = 1;
                    foreach (var user in leaderboard)
                    {
                        <tr class="hover:bg-purple-50 transition">
                            <td class="px-4 py-2 font-semibold">@rank</td>
                            <td class="px-4 py-2">@user.Username</td>
                            <td class="px-4 py-2">@("Computer Science")</td> <!-- Change to real dept if available -->
                            <td class="px-4 py-2">@user.IdeaCount</td>
                            <td class="px-4 py-2 font-bold text-purple-600">@user.TotalVotes pts</td>
                        </tr>
                        rank++;
                    }
                }
                else
                {
                    <tr>
                        <td colspan="5" class="text-center p-4 text-gray-500">No contributors found.</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>